(function(){"use strict";var t={4652:function(t,e,n){var o=n(9242),i=n(3396);const r={class:"container"},a={class:"row"},s={class:"col-12 col-lg-7"},l={class:"col-12 col-lg-5"},c={class:"h-100 shadow-lg p-4 animate__animated animate__zoomInDown"},p={class:"d-flex justify-content-between gap-2"},u={class:"mb-3 w-100"},d=(0,i._)("label",{for:"inputStart",class:"form-label"},"Partida",-1),g={class:"mb-3 w-100"},f=(0,i._)("label",{for:"inputStart",class:"form-label"},"Destino",-1),m=["disabled"];function h(t,e,n,o,h,v){const w=(0,i.up)("map-viewer"),y=(0,i.up)("ModelSelect"),_=(0,i.up)("RouteTable");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",a,[(0,i._)("div",s,[(0,i.Wm)(w,{class:"animate__animated animate__fadeIn animate__delay-1s",airports:t.airports,connections:t.connections},null,8,["airports","connections"])]),(0,i._)("div",l,[(0,i._)("div",c,[(0,i._)("div",p,[(0,i._)("div",u,[d,(0,i.Wm)(y,{options:t.airportOptionsStart,class:"w-100",modelValue:t.selectedOptionStart,"onUpdate:modelValue":e[0]||(e[0]=e=>t.selectedOptionStart=e)},null,8,["options","modelValue"])]),(0,i._)("div",g,[f,(0,i.Wm)(y,{options:t.airportOptionsEnd,class:"w-100",modelValue:t.selectedOptionEnd,"onUpdate:modelValue":e[1]||(e[1]=e=>t.selectedOptionEnd=e)},null,8,["options","modelValue"])])]),(0,i._)("button",{disabled:!t.canpickRoutes,onClick:e[2]||(e[2]=(...e)=>t.pickRoutes&&t.pickRoutes(...e)),class:"btn btn-primary w-100"},"Montar Rota",8,m),(0,i.Wm)(_,{airportRoutes:t.airportRoutes,isLoading:t.isLoadingRoutes},null,8,["airportRoutes","isLoading"])])])])])}var v=n(2682),w=JSON.parse('{"$":[{"id":"SC1","x":319,"y":468},{"id":"SC2","x":378,"y":484},{"id":"SC3","x":391,"y":506},{"id":"PR5","x":514,"y":303}],"I":[{"ids":["SC1","SC2"],"cost":5},{"ids":["SC2","PR5"],"cost":5},{"ids":["SC2","SC3"],"cost":5}]}'),y=n(7139);const _={class:"py-5"},b={class:"table table-hover table-striped"},O=(0,i._)("thead",{class:"thead-dark"},[(0,i._)("tr",null,[(0,i._)("th",{scope:"col",style:{width:"5%"}},"Nº"),(0,i._)("th",{scope:"col"},"Rota")])],-1),k={key:0},x=(0,i._)("i",{class:"fa fa-arrow-right"},null,-1),S={key:1},R=(0,i._)("i",{class:"fa fa-flag-checkered"},null,-1);function D(t,e,n,o,r,a){const s=(0,i.up)("empty-state"),l=(0,i.up)("loading-state");return(0,i.wg)(),(0,i.iD)("div",_,[(0,i._)("table",b,[O,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.routes,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:e},[(0,i._)("td",null,(0,y.zw)(e+1)+"º",1),(0,i._)("td",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t,((e,n)=>((0,i.wg)(),(0,i.iD)("span",{key:n},[(0,i.Uk)((0,y.zw)(e)+" ",1),n!=t.length-1?((0,i.wg)(),(0,i.iD)("span",k,[(0,i.Uk)("   "),x,(0,i.Uk)("   ")])):(0,i.kq)("",!0),n==t.length-1?((0,i.wg)(),(0,i.iD)("span",S,[(0,i.Uk)("   "),R])):(0,i.kq)("",!0)])))),128))])])))),128))])]),t.routes.length||t.isLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(s,{key:0})),t.isLoading?((0,i.wg)(),(0,i.j4)(l,{key:1,class:"animate__animated animate__zoomIn"})):(0,i.kq)("",!0)])}const A={class:"d-flex flex-column justify-content-center align-items-center"},j=(0,i._)("img",{src:"img/loading.gif",alt:""},null,-1),C=(0,i._)("p",null,"Carregando...",-1),L=[j,C];function M(t,e){return(0,i.wg)(),(0,i.iD)("div",A,L)}var E=n(89);const $={},q=(0,E.Z)($,[["render",M]]);var T=q;const Z={class:"alert alert-light mt-4 text-center",role:"alert"},I=(0,i._)("img",{src:"/img/empty-box.jpg",class:"img-fluid w-25 d-block mx-auto",alt:""},null,-1);function N(t,e){return(0,i.wg)(),(0,i.iD)("div",Z,[I,(0,i.Uk)(" Suas rotas aparecerão aqui ")])}const U={},V=(0,E.Z)(U,[["render",N]]);var J=V,P=(0,i.aZ)({props:["airportRoutes","isLoading"],components:{LoadingState:T,EmptyState:J},computed:{routes(){return this.airportRoutes??[]}}});const z=(0,E.Z)(P,[["render",D]]);var H=z,Y=n.p+"img/mapa-brasil.884d5862.svg";const K={class:"d-flex align-items-center justify-content-center"},W={ref:"map-image",id:"map-image",src:Y,width:"600",height:"600",alt:""},X=["onMousedown"];function F(t,e,n,o,r,a){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",K,[(0,i._)("div",{ref:"map-container",id:"map-container",onMouseup:e[0]||(e[0]=e=>t.draggingAirport=null),onMousemove:e[1]||(e[1]=(...e)=>t.moveDraggingAirport&&t.moveDraggingAirport(...e))},[(0,i._)("img",W,null,512),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.airports,((e,n)=>((0,i.wg)(),(0,i.iD)("div",{style:(0,y.j5)({left:`${e.x}px`,top:`${e.y}px`}),class:"airport",key:n,onMousedown:n=>t.draggingAirport=e},(0,y.zw)(e.id),45,X)))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.conectionLines,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"connection-line",key:e,style:(0,y.j5)({left:`${t.x}px`,top:`${t.y}px`,width:`${t.width}px`,transform:`rotate(${t.angle}deg)`})},null,4)))),128))],544)]),(0,i._)("button",{class:"btn btn-outline-dark",onClick:e[2]||(e[2]=(...e)=>t.copyAirportsJSON&&t.copyAirportsJSON(...e))}," Copy JSON ")])}n(7658);var B=n(814),G=(n(6718),(0,i.aZ)({data(){return{draggingAirport:null}},props:{airports:{required:!0,type:Array},connections:{required:!0,type:Array}},methods:{moveDraggingAirport(t){this.draggingAirport&&this.$refs["map-container"]instanceof HTMLElement&&(this.draggingAirport.x=t.clientX-this.$refs["map-container"].offsetLeft,this.draggingAirport.y=t.clientY-this.$refs["map-container"].offsetTop)},copyAirportsJSON(){navigator.clipboard.writeText(JSON.stringify({airports:this.airports,connections:this.connections}))}},computed:{conectionLines(){let t=[];return this.connections.forEach(((e,n)=>{const o=this.airports.find((t=>t.id==e.ids[0])),i=this.airports.find((t=>t.id==e.ids[1]));if(!o||!i)return;const r=o.x,a=o.y,s=i.x,l=i.y,c=Math.sqrt((r-s)*(r-s)+(a-l)*(a-l)),p=(r+s)/2,u=(a+l)/2,d=Math.atan2(a-l,r-s),g=180*d/Math.PI;t.push({x:p-c/2,y:u,width:c,angle:g})})),t}},directives:{tippy:B.XM}}));const Q=(0,E.Z)(G,[["render",F],["__scopeId","data-v-b7154260"]]);var tt=Q,et=(0,i.aZ)({name:"App",components:{ModelSelect:v.q2,RouteTable:H,MapViewer:tt},data(){return{airportOptionsStart:[],airports:w.$,connections:w.I,selectedOptionStart:{value:"",text:""},selectedOptionEnd:{value:"",text:""},airportRoutes:[],isLoadingRoutes:!1}},mounted(){this.loadAirportOptions()},methods:{loadAirportOptions(){this.airportOptionsStart=this.airports.map((t=>({value:t.id,text:t.id})))},pickRoutes(){this.isLoadingRoutes=!0,this.airportRoutes=[],setTimeout((()=>{fetch("/api/routes.json").then((t=>t.json())).then((t=>{this.airportRoutes=t,this.isLoadingRoutes=!1}))}),2e3)}},computed:{airportOptionsEnd(){return this.airportOptionsStart.filter((t=>this.selectedOptionStart.value!=t.value))},canpickRoutes(){return""!=this.selectedOptionEnd.value&&""!=this.selectedOptionStart.value}},watch:{selectedOptionStart(){this.selectedOptionStart.value==this.selectedOptionEnd.value&&(this.selectedOptionEnd={value:"",text:""})}}});const nt=(0,E.Z)(et,[["render",h]]);var ot=nt;(0,o.ri)(ot).mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,r){if(!o){var a=1/0;for(p=0;p<t.length;p++){o=t[p][0],i=t[p][1],r=t[p][2];for(var s=!0,l=0;l<o.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[l])}))?o.splice(l--,1):(s=!1,r<a&&(a=r));if(s){t.splice(p--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var p=t.length;p>0&&t[p-1][2]>r;p--)t[p]=t[p-1];t[p]=[o,i,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p="/grafos-aeroporto-interface/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,r,a=o[0],s=o[1],l=o[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var p=l(n)}for(e&&e(o);c<a.length;c++)r=a[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(p)},o=self["webpackChunkgrafos_aeroporto_interface"]=self["webpackChunkgrafos_aeroporto_interface"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4652)}));o=n.O(o)})();
//# sourceMappingURL=app.3792a8e9.js.map